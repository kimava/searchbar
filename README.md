# Search Bar with Auto-complete Feature
ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í–ˆì„ ë•Œ ë°ì´í„°ì— ê²€ìƒ‰ì–´ì™€ ì¼ì¹˜í•˜ëŠ” ë‹¨ì–´ê°€ ìˆì„ ê²½ìš°, ì•„ë˜ì— ê²€ìƒ‰ ì œì‹œì–´ê°€ ë…¸ì¶œë©ë‹ˆë‹¤.

<br/>

# Purpose
ì‚¬ì „ ê³¼ì œ ì œì¶œì„ ìœ„í•´ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

<br/>

# Installation
```
npm install
npm start
```
```localhost:3000``` ì ‘ì†

<br/>

# Feature
- ê²€ìƒ‰ì–´ ì…ë ¥ ì‹œ, ê²€ìƒ‰ì–´ì™€ ì¼ì¹˜í•˜ëŠ” ë‹¨ì–´ê°€ ìˆìœ¼ë©´ ì•„ë˜ ê²€ìƒ‰ì°½ì— ì œì‹œì–´ê°€ ë…¸ì¶œ ë©ë‹ˆë‹¤. (ì˜ˆ: 'ë§ˆ' ì…ë ¥ â†’ 'ë§ˆìŠ¤í¬' ì œì‹œ)
- ì‚¬ìš©ìê°€ ê²€ìƒ‰ì°½ì— ê²€ìƒ‰ì–´ ì…ë ¥ í›„ ì—”í„°/ ì•„ë˜ ì œì‹œëœ ì œì‹œì–´ í‚¤ë³´ë“œ(â¬†ï¸, â¬‡ï¸)ë¡œ ì„ íƒ í›„ ì—”í„°/ ì œì‹œì–´ í´ë¦­ ì‹œ ì™¸ë¶€ êµ¬ê¸€ ê²€ìƒ‰ì°½ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.
- ê²€ìƒ‰ì°½ âŒ ë²„íŠ¼ í´ë¦­ ì‹œ ê²€ìƒ‰ì°½ì´ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.
<br/>

# Stack
- React (CRA)
- Styled-components

<br/>

# Folder Structure
```
ğŸ“¦src
 â”£ ğŸ“‚components
 â”ƒ â”— ğŸ“‚searchBar
 â”ƒ â”ƒ â”£ ğŸ“‚test
 â”ƒ â”ƒ â”— ğŸ“œsearchBar.jsx
 â”£ ğŸ“‚hooks
 â”ƒ â”— ğŸ“œuseDebounce.jsx
 â”£ ğŸ“‚network
 â”ƒ â”— ğŸ“œdataClient.js
 â”£ ğŸ“‚pages
 â”ƒ â”— ğŸ“œsearch.jsx
 â”£ ğŸ“‚presenter
 â”ƒ â”£ ğŸ“‚test
 â”ƒ â”— ğŸ“œsearchPresenter.js
 â”£ ğŸ“œApp.js
 â”£ ğŸ“œindex.css
 â”£ ğŸ“œindex.js
 â”— ğŸ“œsetupTests.js
 ```

# Usage
#### src/network/dataClient
|í•¨ìˆ˜|ì—­í• |
|---|-------|
|```fetchItems```|data.jsonì—ì„œ íŒŒì¼ ì½ì–´ì˜¤ê¸°|



#### src/presenter/searchPresenter

```
class SearchPresenter {
  constructor(data, maxResult) {
    this.data = data;
    this.maxResult = maxResult;
  }

  suggestQuery(query)
  navigateSuggestion(key, index, list, callback, onSelect)
```  
|í•„ë“œ|ì—­í• |
|---|-------|
|```data```|ì™¸ë¶€ì—ì„œ ì£¼ì… ë°›ì€ ë°ì´í„° ë°°ì—´|
|```maxResult```|ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ ì¤„ ìµœëŒ€ ì œì‹œì–´ì˜ ê°œìˆ˜|

|í•¨ìˆ˜|ì—­í• |
|---|-------|
|```suggestQuery```|ì‚¬ìš©ìì˜ ê²€ìƒ‰ì–´ í¬í•¨(ì¼ì¹˜)í•˜ëŠ” name ë°°ì—´ì„ ë°˜í™˜ <br/>(maxResult ê°œìˆ˜ ë°˜ì˜)|
|```navigateSuggestion```|ê²€ìƒ‰ì°½ keyboard event handle|


#### í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í•¸ë“¤ë§
1. input focus ì‹œ ì‹œì‘ index -1ë¡œ ì´ˆê¸°í™”
2. ê²€ìƒ‰ì œì‹œì–´ ë°°ì—´ì´ ìˆì„ ê²½ìš°, ì‚¬ìš©ìê°€ â¬‡ï¸ ëˆ„ë¥´ë©´ index + 1 => ì‹¤ì œ ë°°ì—´ ì¸ë±ìŠ¤(0ë¶€í„° ì‹œì‘) ê°™ë„ë¡ í•¨
3. ê²€ìƒ‰ì œì‹œì–´ ë°°ì—´ì´ ìˆì„ ê²½ìš°, ì‚¬ìš©ìê°€ â¬†ï¸ ëˆ„ë¥´ë©´ index - 1 
4. ì‚¬ìš©ìê°€ index = -1, ì¸í’‹(ê²€ìƒ‰ì°½)ì—ì„œ ì—”í„°, í˜¹ì€ ê²€ìƒ‰ì œì‹œì–´ ë°°ì—´ ë‚´ì—ì„œ ì—”í„° ëˆ„ë¥´ë©´ í•´ë‹¹ ì¸ë±ìŠ¤ ì½œë°± í•¨ìˆ˜ì— ì „ë‹¬


#### src/pages/search
|í•¨ìˆ˜|ì—­í• |
|---|-------|
|```handleChange```|ì¸í’‹ê°’ â†’ state í• ë‹¹|
|```handleKeyDown```|ì¸í’‹ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë°œìƒ ì‹œ navigateSuggestion í˜¸ì¶œ|
|```link```|ì™¸ë¶€ ê²€ìƒ‰ ë§í¬ ì£¼ì†Œ ë°˜í™˜|

#### suggestQuery í˜¸ì¶œ
- debounce hookì„ ì´ìš©í•´ queryì— debounce ì ìš© í›„ suggestQueryì— ì „ë‹¬

#### src/searchBar/searchBar
|í•¨ìˆ˜|ì—­í• |
|---|-------|
|```openLink```|```Enter``` í‚¤ë¡œ ê²€ìƒ‰ ì‹œ ì™¸ë¶€ ë§í¬ë¡œ ì—°ê²°|
|```clearQuery```|ê²€ìƒ‰ì–´ ```Enter```, ```Click``` ì‹œ ì¸í’‹ê°’ ì´ˆê¸°í™”|
<br/>

# Trouble Shooting

### 1. data.json ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨
#### ë¬¸ì œ
- DBì—ì„œ ë°ì´í„° ë°›ì•„ì˜¤ëŠ” ê²½ìš° mock ìœ„í•´ fetch ì‚¬ìš©í–ˆì„ ë•Œ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨

#### í•´ê²°
- fetchì— url ë“¤ì–´ê°€ì•¼ í•˜ë¯€ë¡œ mock í•  ë•Œ public í´ë” ê¸°ì¤€ìœ¼ë¡œ ê²½ë¡œ ì§€ì •í•´ì•¼ í•˜ëŠ” ê²ƒ í•™ìŠµ

<br/>

### 2. ë¬¸ìì—´ ì…ë ¥í•  ë•Œë§ˆë‹¤ ```suggestQuery``` ë°œìƒ
#### ë¬¸ì œ
- ë„ˆë¬´ ì¦ì€ queryë¡œ ì¸í•œ API ë° resource ë‚­ë¹„
- debounce í•™ìŠµ í›„ lodash debounce ì´ìš©í–ˆìœ¼ë‚˜ ë™ì‘í•˜ì§€ ì•ŠìŒ

#### í•´ê²°
- debounce ë™ì‘ ì›ë¦¬ ì¬í•™ìŠµ í›„ dependency ì‚­ì œí•˜ê³  custom hookìœ¼ë¡œ ë§Œë“¤ì–´ ì ìš©

<br/>

### 3. í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” handleKeyDown í…ŒìŠ¤íŠ¸ ì½”ë“œ
#### ë¬¸ì œ
- jest, testing library ì´ìš©í•œ í…ŒìŠ¤íŠ¸ ì½”ë“œ êµ¬í˜„ì´ ì–´ë ¤ì›€

#### í•´ê²°
- í•´ë‹¹ ë¡œì§ì„ searchPresenterë¡œ ì˜®ê²¨ testableí•œ ì½”ë“œë¡œ êµ¬í˜„
